# Vocabulary Trainer

A kid-friendly, offline-capable PWA for learning foreign language vocabulary â€” with class competitions and family sharing.

## Features at a Glance

| Feature | Description |
|---------|-------------|
| **Library** | Organize vocabulary in books, chapters, and sections |
| **Practice Modes** | Flashcards, multiple choice, typed answers |
| **Parent Quiz** | Parents verbally quiz children, rate their answers |
| **Spaced Repetition** | SM-2 algorithm schedules optimal review times |
| **Gamification** | XP, levels, streaks, and achievements |
| **Networks** | Compete with classmates, share books with study groups |
| **Offline-First** | Works without internet, syncs when connected |

## Supported Languages

- French
- Spanish
- Latin

---

## Getting Started

### For Students

1. **Create your library**: Add a book (e.g., "DÃ©couvertes 2")
2. **Organize**: Add chapters and sections matching your textbook
3. **Enter vocabulary**: Add words manually or scan from photos
4. **Practice daily**: The app tells you which words need review
5. **Track progress**: Watch your XP grow and level up!

### For Parents

- Use **Parent Quiz Mode** to verbally test your child
- Join your child's **network** as a supporter to see their progress
- Approve deletion of high-practice content (protects their work)

### For Teachers

- Create a **class network** and share the invite code
- Share vocabulary books with the whole class
- Monitor the leaderboard (without competing)

---

## Networks & Competition

Networks let students compete with classmates while keeping their learning data private.

### How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLASS NETWORK                           â”‚
â”‚                   "Klasse 5b FranzÃ¶sisch"                   â”‚
â”‚                    Code: ABCD-EFGH                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   COMPETITORS (ranked)           SUPPORTERS (not ranked)   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ ğŸ¥‡ Emma    850 XPâ”‚          â”‚ ğŸ‘¨â€ğŸ« Herr Schmidt  â”‚       â”‚
â”‚   â”‚ ğŸ¥ˆ Luis    720 XPâ”‚          â”‚ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ MÃ¼llers       â”‚       â”‚
â”‚   â”‚ ğŸ¥‰ Sophie  680 XPâ”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚   â”‚ 4. Max    540 XP â”‚                                     â”‚
â”‚   â”‚ 5. Mia    490 XP â”‚          Teachers & parents can     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          see progress but don't     â”‚
â”‚                                 appear on the leaderboard  â”‚
â”‚   SHARED BOOKS                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚   â”‚ ğŸ“š DÃ©couvertes 2 â”‚  â† Anyone can copy to their library â”‚
â”‚   â”‚ ğŸ“š Vocab Extra   â”‚                                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Creating a Network

**Who can create?** Anyone (teachers, parents, or students)

1. Go to **Networks** section
2. Tap **"Create Network"**
3. Enter a name (e.g., "Klasse 5b FranzÃ¶sisch")
4. Choose the type:
   - **Class** â€” For school classes
   - **Study Group** â€” For informal learning groups
   - **Family** â€” For family members
5. Select your role (Teacher/Parent)
6. Share the generated invite code (e.g., `ABCD-EFGH`)

The creator automatically becomes the network admin.

### Joining a Network

1. Get the invite code from your teacher/parent
2. Go to **Networks** â†’ **"Join"**
3. Enter the code (case-insensitive, dash optional)
4. Choose your role:
   - **Student** â€” Competes on leaderboard
   - **Parent** â€” Sees progress, doesn't compete
   - **Teacher** â€” Admin access, doesn't compete
5. Optionally set a nickname (for privacy)

### Roles & Permissions

| Action | Student | Parent | Teacher/Admin |
|--------|:-------:|:------:|:-------------:|
| See leaderboard | âœ“ | âœ“ | âœ“ |
| Compete (ranked) | âœ“ | â€” | â€” |
| Share books | âœ“ | âœ“ | âœ“ |
| Copy shared books | âœ“ | âœ“ | âœ“ |
| Change network settings | â€” | â€” | âœ“ |
| Remove members | â€” | â€” | âœ“ |
| Regenerate invite code | â€” | â€” | âœ“ |

### Privacy by Design

**What's shared on leaderboards:**
- Nickname (not real name)
- XP earned
- Words reviewed (count only)
- Accuracy percentage
- Streak days

**What's NEVER shared:**
- Specific vocabulary items
- Which words you got wrong
- Individual learning progress
- Your personal books/library

### Leaderboard Periods

View rankings for different time periods:
- **Today** â€” Daily competition
- **This Week** â€” Weekly standings (resets Monday)
- **This Month** â€” Monthly competition
- **All Time** â€” Total accumulated XP

---

## Book Sharing

Share vocabulary books with your network so others can copy them.

### How Sharing Works

```
Original Book (Emma)          Copied Book (Luis)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DÃ©couvertes 2    â”‚  COPY   â”‚ DÃ©couvertes 2    â”‚
â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚ (Kopie)          â”‚
â”‚ 150 words        â”‚         â”‚ 150 words        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚ Emma edits                 â”‚ Luis edits
        â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 155 words        â”‚         â”‚ 152 words        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Independent â€” edits don't affect each other
```

**Key points:**
- Copies are **independent** â€” your edits don't affect others
- You **own** your copy â€” full control to edit/delete
- The original owner can unshare, but existing copies remain
- Copy count is shown (see how popular a book is!)

### Sharing a Book

1. Go to your **Library**
2. Open a book
3. Tap **Share** â†’ Select a network
4. Others can now copy it from the network's "Shared Books"

### Copying a Shared Book

1. Go to **Networks** â†’ Select network â†’ **Books** tab
2. Browse shared books
3. Tap **Copy** on any book
4. It appears in your library as "Book Name (Kopie)"

---

## Content Protection

The app protects well-practiced content from accidental deletion.

### Protection Levels

| Reviews | Protection |
|---------|------------|
| 0-9 | Delete immediately |
| 10-49 | Confirmation required |
| 50+ | Must type "LÃ–SCHEN" to confirm |
| Any (child account) | Parent approval required |

### Copied Content

Content from copied books is **read-only** â€” you cannot edit or delete vocabulary from a book you copied. This prevents accidental loss of shared content.

To modify: Copy the vocabulary to a new book you create.

---

## Safety Features

### Blocking Users

If someone is bothering you:
1. Go to their profile in a network member list
2. Tap **Block**
3. You won't see each other on leaderboards or member lists

**Note:** Children cannot block directly â€” this prevents misuse. They should tell a teacher/parent.

### Reporting Content

See inappropriate content or behavior?
1. Tap the **Report** button (on books or profiles)
2. Select the reason
3. Network admins will review

---

## Technical Details

### Tech Stack

- **Next.js 15** (App Router)
- **TypeScript**
- **Tailwind CSS**
- **Dexie.js** (IndexedDB for offline storage)
- **Zustand** (State management)
- **Framer Motion** (Animations)
- **PostgreSQL** (Server sync via Neon)

### Installation

```bash
# Install dependencies
npm install

# Set up environment variables
cp .env.example .env.local
# Add your DATABASE_URL and JWT_SECRET

# Run database migrations
npm run db:push

# Start development server
npm run dev

# Production build
npm run build && npm start
```

### Project Structure

```
src/
â”œâ”€â”€ app/                    # Next.js pages & API routes
â”‚   â”œâ”€â”€ api/               # REST API endpoints
â”‚   â”‚   â”œâ”€â”€ networks/      # Network management
â”‚   â”‚   â”œâ”€â”€ shared-books/  # Book sharing
â”‚   â”‚   â”œâ”€â”€ stats/         # Competition stats
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ library/           # Library management
â”‚   â”œâ”€â”€ practice/          # Practice modes
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ network/           # Network UI components
â”‚   â”œâ”€â”€ competition/       # Leaderboard components
â”‚   â”œâ”€â”€ sharing/           # Book sharing components
â”‚   â”œâ”€â”€ practice/          # Practice components
â”‚   â””â”€â”€ ui/                # Base components
â”œâ”€â”€ hooks/                 # Custom React hooks
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ db/                # Database schemas
â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â””â”€â”€ utils/             # Utilities
â””â”€â”€ stores/                # Zustand state stores
```

### API Endpoints

| Endpoint | Description |
|----------|-------------|
| `POST /api/networks` | Create a network |
| `POST /api/networks/join` | Join via invite code |
| `GET /api/networks/:id/leaderboard` | Get leaderboard |
| `POST /api/shared-books` | Share a book |
| `POST /api/shared-books/:id/copy` | Copy to library |
| `POST /api/stats/submit` | Submit practice stats |
| `POST /api/blocks` | Block a user |
| `POST /api/reports` | Report content |

---

## License

Private project
